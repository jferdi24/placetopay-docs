export const description = 'flush-invoices.';

export const apiRefs = ['/flush'];

# Eliminar facturas vencidas

Este endpoint permite **eliminar masivamente** todas las facturas cuya fecha de expiración (`expirationDate`) sea **anterior a la fecha y hora actual**.

<Note>
Importante:
- Solo se eliminan las facturas que **no estén pagadas ni bloqueadas**.
- La operación es irreversible.

</Note>

---

## Eliminación masiva de facturas vencidas {{ id: 'flush-invoices', tag: 'POST', label: '/rest/cash/invoice/flush' }}

<Row>
  <Col>
    <ApiReader
      path="/flush"
      method="POST"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
    <CodeGroup title="Eliminar facturas vencidas" tag="POST" label="/rest/cash/invoice/flush">
      ```bash {{ title: 'Eliminar facturas vencidas' }}
      curl -X "POST" https://api-test.placetopay.com/rest/cash/invoice/flush \
      -H "Content-Type: application/json" \
      -d '{
        "auth": {
          "login": "d15aac486fd785cda0e471a83c2b1fdf",
          "tranKey": "dsRL5wIymrySr9TgsYtxWZEIb5/RtW1v3n3xLqQZKj4=",
          "nonce": "MTIzNDU2Nzg=",
          "seed": "2018-01-29T17:02:49-05:00"
        },
        "site": "3"
      }'
      ```
    </CodeGroup>
  </Col>
</Row>

<Row>
  <Col>
    <ApiReader
      path="/flush"
      method="post"
      type="response"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
    <CodeGroup title="Respuesta">
      ```json {{ title: '200' }}
      {
        "status": {
          "status": "OK",
          "reason": "00",
          "message": "La petición se ha procesado correctamente",
          "date": "2020-07-26T20:01:15-05:00"
        }
      }
      ```
    </CodeGroup>
  </Col>
</Row>
