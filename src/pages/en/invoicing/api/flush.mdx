export const description = 'flush-invoices.';

export const apiRefs = ['/flush'];

# Delete expired invoices

This endpoint allows you to **mass delete** all invoices whose expiration date (`expirationDate`) is **earlier than the current date and time**.

<Note>
Important:
- Only invoices that are **neither paid nor locked** will be deleted.
- The operation is irreversible.
</Note>

---

## Bulk deletion of expired invoices {{ id: 'flush-invoices', tag: 'POST', label: '/rest/cash/invoice/flush' }}

<Row>
  <Col>
    <ApiReader
      path="/flush"
      method="POST"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
   <CodeGroup title="Delete expired invoices" tag="POST" label="/rest/cash/invoice/flush">
     ```bash {{ title: 'Delete expired invoices' }}
     curl -X "POST" https://api-test.placetopay.com/rest/cash/invoice/flush \
     -H "Content-Type: application/json" \
     -d '{
        "auth": {
          "login": "d15aac486fd785cda0e471a83c2b1fdf",
          "tranKey": "dsRL5wIymrySr9TgsYtxWZEIb5/RtW1v3n3xLqQZKj4=",
          "nonce": "MTIzNDU2Nzg=",
          "seed": "2018-01-29T17:02:49-05:00"
        },
        "site": "3"
      }'
      ```
    </CodeGroup>
  </Col>
</Row>

<Row>
  <Col>
    <ApiReader
      path="/flush"
      method="post"
      type="response"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
    <CodeGroup title="Response">
      ```json {{ title: '200' }}
      {
        "status": {
          "status": "OK",
          "reason": "00",
          "message": "The request has been successfully processed",
          "date": "2020-07-26T20:01:15-05:00"
        }
      }
      ```
    </CodeGroup>
  </Col>
</Row>
