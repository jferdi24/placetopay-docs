export const description = 'get-token-status.';

export const apiRefs = ['/api/tokens/status'];


# Ver estado de un token

Este endpoint permite consultar el estado actual de un token de marca. Su funcionalidad es
retornar los datos actualizados del token, evitando intentos fallidos en la generaci√≥n de
criptogramas y optimizando el procesamiento de pagos.
Antes de consumir esta API debe existir en la plataforma un comercio registrado en la
marca y un token anteriormente dado.

---


## Obtener estado del token {{ id: 'get-token-status', tag: 'POST', label: '/api/tokens/status' }}

<Row>
  <Col>
    <ApiReader
      path="/api/tokens/status"
      method="POST"
      api={props.refs}
    />
  </Col>
  <Col sticky>

    <br />
    <CodeGroup title="Solicitud" tag="POST" label="/api/tokens/status">
    ```bash {{ title: 'cURL' }}
    curl -X "POST" https://token-requestor.placetopay.ws/api/tokens/status \
    -H "Content-Type: application/json" \
    -d '{
        "auth": {
            "login":"aabbccdd1234567890aabbccdd123456",
            "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
            "nonce":"enQ4dXh3YWhkMWM=",
            "seed":"2023-06-21T09:56:06-05:00"
        },
        "siteId": "2e988305-40bb-4e77-a992-c0dce3303db9",
        "instrument": {
            "brandToken": {
                "id": "6s988305-40bb-4e77-a992-c0dce3527dd8",
            }
        }
    }'
    ```
    </CodeGroup>
  </Col>
</Row>

<Row>
  <Col>
    <ApiReader
      path="/api/tokens/status"
      method="post"
      type="response"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
    <CodeGroup title="Respuesta">
    ```json {{ title: '200' }}
        {
        "status": {
            "status": "OK",
            "reason": "00",
            "description": "The request has been successfully processed",
        },
        "data": {
            "status": "ACTIVE",
            "expiration": "28/04",
            "artURL": "https://token-requestor.placetopay.dev/images/card-art/master.png",
            "onTest": true,
            "createdAt": "2025-01-07 20:18:56",
            "updatedAt": "2025-01-20 23:30:09"
        }
    }
    ```
    </CodeGroup>
  </Col>
</Row>
