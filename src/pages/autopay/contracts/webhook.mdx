export const apiRefs = ['/autopay/webhook']

## Notificar un evento {{ id: 'webhook', tag: 'POST', label: '/autopay/webhook' }}

<Row>
    <Col>
        Este endpoint sirve para enviar una notificación al cliente integrado
        <ApiReader
            path="/autopay/webhook"
            method="POST"
            api={props.refs}
        />
    </Col>
    <Col sticky={true}>
                <CodeGroup title="Solicitud" tag="POST" label="/autopay/webhook">
                    ```bash {{ title: 'Get balance' }}
                    curl -X "POST" https://{{your-server}/autopay/balance \
                    -H "Content-Type: application/json" \
                    -d '{
                        "type": "AUTOPAY_FAILED",
                        "site": "2972c13d-6315-4da3-80d7-64c24eb232ad",
                        "signature": "Base64(SHA-256(secretKey + data + date))",
                        "date": "2023-01-19 15:57:23",
                        "data":  "data": {
                            "id": "2972c13d-6315-4da3-80d7-64c24eb232ad", // identificador interno del autopay
                        }
                    }
                    '
                    ```
                </CodeGroup>
            </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/autopay/webhook"
            method="POST"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: '200: Respuesta exitosa' }}
            {
              "status": {
                 "status": "OK",
                 "reason": "00",
                 "message": "Respuesta exitosa",
                 "date": "2025-09-29T17:09:29-05:00"
              },
            }
            ```
            ```json {{ title: '401: Autenticación invalida' }}
            {
              "status": {
                 "status": "FAILED",
                 "reason": "103",
                 "message": "Fecha del seed mayor de 5 minutos.",
                 "date": "2025-09-29T17:09:29-05:00"
              },
            }
            ```
        </CodeGroup>
    </Col>
</Row>
